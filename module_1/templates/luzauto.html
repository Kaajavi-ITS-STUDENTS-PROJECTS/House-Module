{% extends 'base.html' %}
{% load static %}
{% block titulo %}
<title>Luz Auto</title>
<link rel="stylesheet" href="{% static 'css/nouislider.css' %}">
{% endblock %}
{% block content %}


<div class="card  blue-grey darken-1 row">
    <ul class="collapsible col s3" data-collapsible="expandable">
        <li>
            <div class="collapsible-header blue-grey darken-1 white-text">Elige los dias</div>
            <div id="dias" class="collapsible-body">
                <p>
                    <input type="checkbox" id="d" />
                    <label for="d">Domingo</label>
                </p>
                <p>
                    <input type="checkbox" id="l" />
                    <label for="l">Lunes</label>
                </p>
                <p>
                    <input type="checkbox" id="m" />
                    <label for="m">Martes</label>
                </p>
                <p>
                    <input type="checkbox" id="mi" />
                    <label for="mi">Miercoles</label>
                </p>
                <p>
                    <input type="checkbox" id="j" />
                    <label for="j">Jueves</label>
                </p>
                <p>
                    <input type="checkbox" id="v" />
                    <label for="v">Viernes</label>
                </p>
                <p>
                    <input type="checkbox" id="s" />
                    <label for="s">Sabado</label>
                </p>
            </div>
        </li>
    </ul>

    <!--<div class="btn" onclick="getSelected()"></div>-->
    <div class="valign-wrapper col s9">
        <div id="slider" class="col s9 offset-s1 valign"></div>
        <a href="getSelected()" class="col s1 offset-s1 waves-effect btn-flat valign btn-crear">Crear</a>
    </div>
</div>


{% endblock %}
{% block scripts %}
<script type="text/javascript" src="{% static 'js/nouislider.min.js' %}"></script>
<script>
    function getSelected(){
        /*var e = $('select option:selected');
        console.log(e);*/
        $('input').each(function(){
            if($(this).is(':checked')){
                console.log($('label[for="' + this.id + '"]').html());
            }
        });
    }

    $(document).ready(function() {
        $('select').material_select();
        $('.collapsible').collapsible({
            accordion : false
        });
    });

    var slider = document.getElementById('slider');
    noUiSlider.create(slider, {
        start: ["02:00","21:00"],
        connect: true,
        step: 1,
        range: {
            'min': 0,
            'max': 1439
        },
        format:{
            to: minutesToHHMM,
            from: HHMMtoMinutes
        },
    });

    function minutesToHHMM(value) {
        value = Math.round(value);
        var hour = Math.floor(value / 60);
        var min = value - hour * 60;
        return ("0" + hour).slice(-2) + ":" + ("0" + min).slice(-2);
    }

    function HHMMtoMinutes(value) {
        var split = value.toString().split(":");
        var hour = parseInt(split[0]) * 60;
        var min = parseInt(split[1]);
        return hour + min;
    }

</script>
{% endblock %}
